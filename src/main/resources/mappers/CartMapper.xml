<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="flab.delideli.dao.CartDao" >
    <insert id = "insertCart">
        INSERT INTO carts(user_id, menu_id, amount)
        VALUES (#{userid}, #{addCartDTO.menuId}, #{addCartDTO.amount})
    </insert>

    <select id="isItemInCart" resultType="int">
        SELECT menu_id
        FROM carts
        WHERE user_id = #{userId}
           AND menu_id = #{addCartDTO.menuId}
    </select>
    
    <update id="updateCartItem">
        UPDATE carts
        SET amount = amount + 1
        WHERE user_id = #{userId}
          AND menu_id = #{addCartDTO.menuId}
    </update>
</mapper>